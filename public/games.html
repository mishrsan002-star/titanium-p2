
<!DOCTYPE html>
<html lang="en">
    <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    <script>
        window.addEventListener('beforeunload', function (event) {
            event.preventDefault();
            event.returnValue = '';
            return 'Are you sure you want to leave? Any unsaved changes will be lost.';
        });
    </script>
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5521219086088837" crossorigin="anonymous"></script>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WX5VS54ZDW"></script>
    <meta name="google-adsense-account" content="ca-pub-5521219086088837">
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-WX5VS54ZDW');
    </script>
    <script async src="https://fundingchoicesmessages.google.com/i/pub-5521219086088837?ers=1"></script><script>(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>
    <script src="https://cdn.jsdelivr.net/gh/gn-math/gn-math.github.io@main/gnmath.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R3cked Games</title>
    <meta name="title" content="GN-Math">
    <meta name="description" content="Play unbl*cked games like Crazy Cattle 3D and DriveMad on GN-Math. Fast, free, no downloads—perfect for school or home.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gn-math.github.io/">
    <meta property="og:title" content="GN-Math">
    <meta property="og:description" content="Play unbl*cked games like Crazy Cattle 3D and DriveMad on GN-Math. Fast, free, no downloads—perfect for school or home.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://gn-math.github.io/">
    <meta name="twitter:title" content="GN-Math">
    <meta name="twitter:description" content="Play unbl*cked games like Crazy Cattle 3D and DriveMad on GN-Math. Fast, free, no downloads—perfect for school or home.">
    <meta name="keywords" content="unblocked games, games for school, browser games, chromebook games, no download games, html5 games, free unblocked games, gn-math, fun games at school, crazy cattle 3d, play crazy cattle 3d, crazy cattle 3d unblocked, crazy cattle, crazy cattle unblocked, play crazy cattle, crazy cattle online, crazy cattle 3d online">
    <style>
:root {
    --primary-color: #fc2651;
    --text-color: #333;
    --background-color: #FFFFFF;
    --card-bg: #f8f8f8;
    --card-border: #e0e0e0;
    --shadow: rgba(0, 0, 0, 0.1);
    --popup-bg: #fff;
  
}

.dark-mode {
    --primary-color: #fc2651;
    --text-color: #e0e0e0;
    --background-color: #181818;
    --card-bg: #252525;
    --card-border: #383838;
    --shadow: rgba(0, 0, 0, 0.4);
    --popup-bg: #252525;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--background-color);
    color: var(--text-color);
    transition: background-color 0.3s, color 0.3s;
   /* Neon Glow */
    text-shadow:
      0 0 8px #fff, 
      0 0 32px #fff, 
      0 0 64px #fff, 
      0 0 128px #ff00de;
    /* Rainbow background gradient */
    background: linear-gradient(270deg, #ff0080, #ff8c00, #ffff00, #00ff00, #00ffff, #0000ff, #8000ff, #ff0080);
    background-size: 1600% 1600%;
    animation: neon-rainbow 8s linear infinite;
}

header {
    color: white;
    padding: 1rem;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 5px var(--shadow);
   /* Neon Glow */
    text-shadow:
      0 0 8px #fff, 
      0 0 32px #fff, 
      0 0 64px #fff, 
      0 0 128px #ff00de;
   
   
}

@keyframes neon-rainbow {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}


.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

.logo {
    font-size: 1.5rem;
    font-weight: bold;
}

.search-container {
    display: flex;
    gap: 10px;
    margin: 0.5rem 0;
}

#searchBar {
    padding: 0.5rem;
    border-radius: 4px;
    border: 1px solid var(--card-border);
    flex-grow: 1;
    min-width: 0;
    font-size: 16px;
}

#sortOptions {
    padding: 0.5rem;
    border-radius: 4px;
    border: 1px solid var(--card-border);
    font-size: 16px;
}

.control-buttons {
    display: flex;
    gap: 10px;
}

#settings {
    background-color: transparent;
    border: none;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
  
}

main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
   /* Neon Glow */
    text-shadow:
      0 0 8px #fff, 
      0 0 32px #fff, 
      0 0 64px #fff, 
      0 0 128px #ff00de;
    /* Rainbow background gradient */
    background: linear-gradient(270deg, #ff0080, #ff8c00, #ffff00, #00ff00, #00ffff, #0000ff, #8000ff, #ff0080);
    background-size: 1600% 1600%;
    animation: neon-rainbow 8s linear infinite;
}

#container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 20px;
    margin-top: 1rem;
}

.zone-item {
    background-color: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    box-shadow: 0 2px 4px var(--shadow);
    display: flex;
    flex-direction: column;
}

.zone-item:hover {
    background-color: var(--card-border);
}

.zone-item img {
    width: 100%;
    aspect-ratio: 1;
    object-fit: cover;
}

.zone-item button {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: none;
    padding: 10px;
    cursor: pointer;
    font-weight: bold;
    flex-grow: 1;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

#zoneViewer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--background-color);
    z-index: 1000;
    display: none;
    flex-direction: column;
}

.zone-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: var(--primary-color);
    color: white;
    padding: 0.5rem 1rem;
  text-shadow:
      0 0 8px #fff, 
      0 0 32px #fff, 
      0 0 64px #fff, 
      0 0 128px #ff00de;
    /* Rainbow background gradient */
    background: linear-gradient(270deg, #ff0080, #ff8c00, #ffff00, #00ff00, #00ffff, #0000ff, #8000ff, #ff0080);
    background-size: 1600% 1600%;
    animation: neon-rainbow 8s linear infinite;


}

.zone-title {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

#zoneName {
    font-size: 1.2rem;
    font-weight: bold;
    margin: 0;
}

#zoneId {
    display: none;
}
#zoneFrame {
    flex-grow: 1;
    border: none;
    width: 90%;
    height: 90%;
}

#popupOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.popup {
    background-color: var(--popup-bg);
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    width: 90%;
    max-width: 500px;
    max-height: 80vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.popup-header {
    background-color: var(--primary-color);
    color: white;
    padding: 0.8rem 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#popupTitle {
    margin: 0;
    font-size: 1.2rem;
}

#popupClose {
    background: transparent;
    border: none;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    line-height: 1;
}

#popupBody {
    padding: 1rem;
    overflow-y: auto;
    color: var(--text-color);
   /* Neon Glow */
    text-shadow:
      0 0 8px #fff, 
      0 0 32px #fff, 
      0 0 64px #fff, 
      0 0 128px #ff00de;
    /* Rainbow background gradient */
    background: linear-gradient(270deg, #ff0080, #ff8c00, #ffff00, #00ff00, #00ffff, #0000ff, #8000ff, #ff0080);
    background-size: 1600% 1600%;
    animation: neon-rainbow 8s linear infinite;
}

#popupBody input[type="text"],
#popupBody input[type="file"] {
    width: 100%;
    padding: 0.5rem;
    margin-bottom: 1rem;
    border: 1px solid var(--card-border);
    border-radius: 4px;
    background-color: var(--card-bg);
    color: var(--text-color);
    font-size: 16px;
}

#settings-button {
    display: block;
    width: 100%;
    padding: 0.75rem;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    margin-bottom: 1rem;
}

footer {
    background-color: var(--card-bg);
    padding: 1rem;
    text-align: center;
    margin-top: 2rem;
    border-top: 1px solid var(--card-border);
}

.footer-links {
    display: flex;
    justify-content: center;
    gap: 20px;
}

.footer-links a {
    color: var(--primary-color);
    text-decoration: none;
}

.footer-links a:hover {
    text-decoration: underline;
}


@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        gap: 10px;
    }

    .search-container {
        width: 100%;
    }

    #container {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
    }

    .zone-item img {
        height: 140px;
    }

    .zone-item button {
        height: 60px;
        font-size: 14px;
    }
}

#featuredZones {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 20px;
    margin-top: 1rem;
}
    
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Neon Cloak UI with Realistic Fake Chrome Tab</title>
  <style>
    body {
      background: linear-gradient(120deg, #0a0a0a, #1a001a);
      background-size: 200%;
      animation: bgflow 10s ease infinite;
      color: white;
      font-family: Arial, sans-serif;
    }
    @keyframes bgflow {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }
    .neon-button {
      position: relative;
      padding: 20px 50px;
      font-size: 18px;
      text-transform: uppercase;
      color: white;
      border-radius: 15px;
      background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet, red);
      background-size: 400%;
      animation: rainbow 4s linear infinite, pulse 1.5s ease-in-out infinite;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 25px rgba(255,255,255,0.4);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .neon-button:hover {
      transform: scale(1.08);
      box-shadow: 0 0 45px rgba(255,255,255,0.9), 0 0 90px rgba(120,180,255,0.5);
    }
    .neon-button::after {
      content: attr(data-tip);
      position: absolute;
      bottom: -55px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(10, 10, 10, 0.95);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 14px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s, transform 0.3s;
      box-shadow: 0 0 10px rgba(255,255,255,0.2);
      z-index: 10000;
    }
    .neon-button:hover::after {
      opacity: 1;
      transform: translateX(-50%) translateY(-5px);
    }
    .tooltip-top::after { bottom: auto; top: -55px; transform: translateX(-50%);}
    .tooltip-top:hover::after { transform: translateX(-50%) translateY(5px);}
    .tip-right::after { left: 65%; }
    .tip-left::after { left: 35%; }
    @keyframes rainbow {
      0% { background-position: 0% 50%; filter: hue-rotate(0deg); }
      100% { background-position: 100% 50%; filter: hue-rotate(360deg); }
    }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 20px rgba(255,255,255,0.3), 0 0 50px rgba(100,100,255,0.3); }
      50% { box-shadow: 0 0 35px rgba(255,255,255,0.9), 0 0 80px rgba(120,170,255,0.6); }
    }
    .button-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 95%;
      margin: 60px auto;
    }
    .center-buttons {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }
    .popup-bg {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(8px);
      justify-content: center;
      align-items: center;
      z-index: 5000;
    }
    .center-box {
      flex-direction: column;
      align-items: center;
      background-color: rgba(15, 15, 15, 0.9);
      padding: 30px 45px;
      border-radius: 20px;
      box-shadow: 0 0 50px rgba(255,255,255,0.3);
    }
    .center-box input {
      width: 280px;
      padding: 10px;
      margin: 8px;
      border: none;
      border-radius: 5px;
      outline: none;
      background-color: rgba(255,255,255,0.15);
      color: white;
    }
    /* Fake Chrome Tab Overlay */
    .fake-tab {
      display: none;
      position: fixed;
      inset: 0;
      background: #f8fbfd;
      z-index: 9999;
      justify-content: center;
      align-items: center;
      font-family: "Segoe UI", Arial, sans-serif;
      flex-direction: column;
    }
    .chrome-fake {
      width: 100vw;
      height: 100vh;
      background: #f8fbfd;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    .chrome-header {
      position: absolute;
      top: 32px;
      right: 58px;
      display: flex;
      align-items: center;
      gap: 22px;
      font-size: 17px;
      color: #222;
      font-family: Arial, sans-serif;
    }
    .chrome-link {
      cursor: pointer;
      color: #222;
      font-weight: 400;
    }
    .chrome-link:hover { text-decoration: underline; }
    .chrome-grid {
      font-family: "Material Icons", Arial, sans-serif;
      font-size: 26px;
      opacity: 0.8;
      padding-left: 5px;
      vertical-align: middle;
    }
    .chrome-logo {
      width: 270px;
      margin-top: 60px;
      margin-bottom: 34px;
      user-select: none;
      pointer-events: none;
    }
    .chrome-search {
      display: flex;
      align-items: center;
      background: #fff;
      border-radius: 35px;
      padding: 0 22px;
      min-width: 540px;
      max-width: 80vw;
      height: 54px;
      box-shadow: 0 2px 6px rgba(60,80,100,0.07), 0 1px 2px rgba(60,80,100,0.13);
    }
    .chrome-search-icon {
      font-size: 22px;
      color: #888;
      margin-right: 12px;
    }
    .chrome-mic {
      font-size: 20px;
      color: #4285f4;
      margin-left: 12px;
    }
    .chrome-search-box {
      border: none;
      outline: none;
      font-size: 18px;
      background: transparent;
      flex: 1;
      color: #555;
      font-family: "Segoe UI", Arial, sans-serif;
      pointer-events: none;
    }
    .chrome-shortcut-row {
      margin-top: 42px;
      display: flex;
      gap: 24px;
      align-items: center;
      justify-content: center;
    }
    .chrome-shortcut-card {
      width: 115px;
      height: 115px;
      background: #e7ecef;
      border-radius: 10px;
      box-shadow: 0 1px 3px rgba(60,80,100,0.10);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .chrome-shortcut-plus {
      width: 50px;
      height: 50px;
      background: #cfeef6;
      color: #333;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 34px;
      margin-bottom: 12px;
      font-weight: 400;
    }
    .chrome-shortcut-label {
      color: #222;
      font-size: 16px;
      letter-spacing: 0.1px;
    }
    .chrome-customize {
      position: absolute;
      right: 32px;
      bottom: 24px;
      background: #b6effb;
      color: #222;
      border: none;
      border-radius: 22px;
      padding: 8px 18px 8px 18px;
      font-size: 16px;
      box-shadow: 0 1px 4px rgba(60,80,100,0.06);
      display: flex;
      align-items: center;
      gap: 7px;
      cursor: pointer;
    }
    .chrome-customize:hover {
      background: #a3e2f5;
    }
    .chrome-edit {
      font-size: 18px;
      padding-right: 2px;
    }
  </style>
</head>
<body>

<div class="button-container">
  <button class="neon-button tip-right" data-tip="Open this site in a new tab labeled 'About Blank'" onclick="openCloakedTab(window.location.href, 'About Blank', 'data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8P////H////x////8f////H////w////8f////P//////////8P////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==')">About Blank</button>

  <div class="center-buttons">
    <button class="neon-button tooltip-top" data-tip="Create a cloaked tab with custom title & favicon" onclick="toggleCloakPopup()">Custom Cloak</button>
    <button class="neon-button" data-tip="Shows a fake Chrome tab automatically when idle or switching tabs" id="stealthBtn" onclick="toggleStealthMode()">Stealth Mode: Off</button>
  </div>

  <button class="neon-button tip-left" data-tip="Switch between light and dark theme" onclick="toggleMode()">Dark Mode</button>
</div>

<div class="popup-bg" id="cloakPopup">
  <div class="center-box">
    <h3>Custom Cloak Setup</h3>
    <input type="text" id="cloakTitle" placeholder="Enter cloak title"><br>
    <input type="text" id="cloakFavicon" placeholder="Enter favicon URL"><br>
    <div style="display:flex; gap:10px; margin-top:10px;">
      <button class="neon-button" style="padding:8px 20px;" onclick="setPreset('Google')">Google</button>
      <button class="neon-button" style="padding:8px 20px;" onclick="setPreset('Drive')">Drive</button>
      <button class="neon-button" style="padding:8px 20px;" onclick="setPreset('Classroom')">Classroom</button>
    </div>
    <br>
    <button class="neon-button" onclick="applyCloak()">Done</button><br>
    <button class="neon-button" style="padding:10px 25px;" onclick="toggleCloakPopup()">Close</button>
  </div>
</div>

<!-- The fake tab overlay styled to look like your screenshot -->
<div class="fake-tab" id="fakeTab">
  <div class="chrome-fake">
    <div class="chrome-header">
      <span class="chrome-link gmail">Gmail</span>
      <span class="chrome-link images">Images</span>
      <span class="chrome-grid">&#x25A9;</span>
    </div>
    <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" class="chrome-logo" alt="Google Logo">
    <form class="chrome-search" onsubmit="return false;">
      
      <input type="text" class="chrome-search-box" value="Search Google or type a URL" readonly>
   
    </form>
    <div class="chrome-shortcut-row">
      <div class="chrome-shortcut-card">
        <div class="chrome-shortcut-plus">+</div>
        <div class="chrome-shortcut-label">Add shortcut</div>
      </div>
    </div>
    <button class="chrome-customize"><span class="chrome-edit"></span>Customize chrome</button>
  </div>
</div>

<script>
  let stealthEnabled = false;
  let timer = null;
  let lastX = 0, lastY = 0;
  let inactive = false;

  window.addEventListener("blur", () => {
    if (stealthEnabled) showFakeTab();
  });

  // When coming back, do not automatically hide
  window.addEventListener("focus", () => {});

  function toggleMode() {
    const b = document.body;
    b.classList.toggle('light-mode');
    if (b.classList.contains('light-mode')) {
      b.style.background = "linear-gradient(120deg, #fffcee, #fffacc, #e5ffe5, #d0f0ff, #f0e5ff)";
      b.style.color = "#111";
    } else {
      b.style.background = "linear-gradient(120deg, #0a0a0a, #1a001a)";
      b.style.color = "#dcdcdc";
    }
  }

  function toggleCloakPopup() {
    const p = document.getElementById("cloakPopup");
    p.style.display = p.style.display === "flex" ? "none" : "flex";
  }

  function setPreset(o) {
    const t = document.getElementById("cloakTitle");
    const f = document.getElementById("cloakFavicon");
    if (o === "Google") {
      t.value = "Google";
      f.value = "https://www.google.com/favicon.ico";
    } else if (o === "Drive") {
      t.value = "My Drive - Google Drive";
      f.value = "https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png";
    } else if (o === "Classroom") {
      t.value = "Google Classroom";
      f.value = "https://ssl.gstatic.com/classroom/favicon.png";
    }
  }

  function applyCloak() {
    const t = document.getElementById("cloakTitle").value || "Cloaked Tab";
    const f = document.getElementById("cloakFavicon").value || "";
    openCloakedTab(window.location.href, t, f);
    toggleCloakPopup();
  }

  function openCloakedTab(url, title, icon) {
    const n = window.open(url, "_blank");
    if (!n) return;
    const ival = setInterval(() => {
      try {
        n.document.title = title;
        let link = n.document.querySelector("link[rel~='icon']");
        if (!link) {
          link = n.document.createElement("link");
          link.rel = "icon";
          n.document.head.appendChild(link);
        }
        link.href = icon;
        if (n.document.title === title) clearInterval(ival);
      } catch {}
    }, 250);
  }

  function toggleStealthMode() {
    stealthEnabled = !stealthEnabled;
    const btn = document.getElementById("stealthBtn");
    btn.textContent = stealthEnabled ? "Stealth Mode: On" : "Stealth Mode: Off";
    if (stealthEnabled) enableStealth();
    else disableStealth();
  }

  function enableStealth() {
    document.addEventListener("mousemove", resetTimer);
    document.addEventListener("keydown", resetTimer);
    startTimer();
  }

  function disableStealth() {
    document.removeEventListener("mousemove", resetTimer);
    document.removeEventListener("keydown", resetTimer);
    clearTimeout(timer);
    hideFakeTab();
    inactive = false;
  }

  function startTimer() {
    clearTimeout(timer);
    timer = setTimeout(() => {
      if (stealthEnabled) showFakeTab();
    }, 15000);
  }

  function resetTimer(e) {
    if (inactive && stealthEnabled) {
      const dx = Math.abs(e.clientX - lastX);
      const dy = Math.abs(e.clientY - lastY);
      if (dx > 150 || dy > 150) {
        hideFakeTab();
        inactive = false;
      }
    }
    lastX = e.clientX;
    lastY = e.clientY;
    startTimer();
  }

  function showFakeTab() {
    document.getElementById("fakeTab").style.display = "flex";
    inactive = true;
  }

  function hideFakeTab() {
    document.getElementById("fakeTab").style.display = "none";
  }
</script>

<body class="dark-mode">
    <header>
        <div class="header-content">
            <div class="logo">R3cked Games</div>
            <div class="search-container">
                <input type="text" id="searchBar" placeholder="Search through our Games" oninput="filterZones()">
                <select id="sortOptions" onchange="sortZones()">
                  <option value="name">Name</option>
                    <option value="popular">Popular</option>
                </select>
            </div>
            <div class="control-buttons">
                <button id="settings" style="background-color:; color: white; border: green; border-radius: 0px; padding: 0.5rem 0rem; font-size: 0px; cursor: pointer;"></button>
            </div>
        </div>
    <ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-client="ca-pub-5521219086088837"
    data-ad-slot="5549138288"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
   <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
   </script>

    <main>
        <details id="featuredZonesWrapper" open>
            <summary id="allZonesSummary" style="font-size: 1.2rem; font-weight: bold; cursor: pointer;">Featured Games</summary>
            <div id="featuredZones" class="zone-container"></div>
        </details>
        <br><hr><br>
        <details id="allZonesWrapper" open>
            <summary id="allSummary" style="font-size: 1.2rem; font-weight: bold; cursor: pointer;">All Games</summary>
            <div id="container">Loading...</div>
        </details>
    </main>

    <div id="zoneViewer">
        <div class="zone-header">
            <div class="zone-title">
                <h2 id="zoneName">Game</h2>
                <span id="zoneId" style="display: none;"></span>
                <a id="zoneAuthor" href="#" target="_blank">
            </div
     </div>
        </div>
        <iframe id="zoneFrame"></iframe>
    </div>

    <div id="popupOverlay">
        <div class="popup">
            <div class="popup-header">
                <h3 id="popupTitle">Title</h3>
                <button id="popupClose" onclick="closePopup()">×</button>
            </div>
            <div id="popupBody">
                Content will be here
            </div>
        </div>
    </div>

    <ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-client="ca-pub-5521219086088837"
    data-ad-slot="5549138288"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
   <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
   </script>
    <footer>
        <div class="footer-links">
            <a href="#" onclick="showContact(); return false;">Contact</a>
            <a href="#" onclick="loadPrivacy(); return false;">Privacy Policy</a>
                      <a href="#" onclick="loadCredit(); return false;">Credit</a>
            <a href="javascript:saveData()">Export Data</a>
            <label for="importData" style="color: var(--primary-color); cursor: pointer;">Import Data</label>
            <input type="file" id="importData" style="display: none;" onchange="loadData(event)">
        </div>
    </footer>

    <script>
        const container = document.getElementById('container');
const zoneViewer = document.getElementById('zoneViewer');
let zoneFrame = document.getElementById('zoneFrame');
const searchBar = document.getElementById('searchBar');
const sortOptions = document.getElementById('sortOptions');
// https://www.jsdelivr.com/tools/purge
const zonesURL = "https://cdn.jsdelivr.net/gh/mishrsan002-star/assets@main/zones.json";
const coverURL = "https://cdn.jsdelivr.net/gh/mishrsan002-star/covers@main";
const htmlURL = "https://cdn.jsdelivr.net/gh/mishrsan002-star/html@main";
let zones = [];
let popularityData = {};
const featuredContainer = document.getElementById('featuredZones');
async function listZones() {
    try {
        const response = await fetch(zonesURL+"?t="+Date.now());
        const json = await response.json();
        zones = json;
        zones[0].featured = true; // always gonna be the discord
        await fetchPopularity();
        sortZones();
        const search = new URLSearchParams(window.location.search);
        const id = search.get('id');
        const embed = window.location.hash.includes("embed");
        if (id) {
            const zone = zones.find(zone => zone.id + '' == id + '');
            if (zone) {
                if (embed) {
                    if (zone.url.startsWith("http")) {
                        window.open(zone.url, "_blank");
                    } else {
                        const url = zone.url.replace("{COVER_URL}", coverURL).replace("{HTML_URL}", htmlURL);
                        fetch(url+"?t="+Date.now()).then(response => response.text()).then(html => {
                            document.documentElement.innerHTML = html;
                            const popup = document.createElement("div");
                            popup.style.position = "fixed";
                            popup.style.bottom = "20px";
                            popup.style.right = "20px";
                            popup.style.backgroundColor = "#cce5ff";
                            popup.style.color = "#004085";
                            popup.style.padding = "10px";
                            popup.style.border = "1px solid #b8daff";
                            popup.style.borderRadius = "5px";
                            popup.style.boxShadow = "0px 0px 10px rgba(0,0,0,0.1)";
                            popup.style.fontFamily = "Arial, sans-serif";
                            
                            
                            const closeBtn = document.createElement("button");
                            closeBtn.innerText = "✖";
                            closeBtn.style.marginLeft = "10px";
                            closeBtn.style.background = "none";
                            closeBtn.style.border = "none";
                            closeBtn.style.cursor = "pointer";
                            closeBtn.style.color = "#004085";
                            closeBtn.style.fontWeight = "bold";
                            
                            closeBtn.onclick = () => popup.remove();
                            popup.appendChild(closeBtn);
                            document.body.appendChild(popup);
                            document.documentElement.querySelectorAll('script').forEach(oldScript => {
                                const newScript = document.createElement('script');
                                if (oldScript.src) {
                                    newScript.src = oldScript.src;
                                } else {
                                    newScript.textContent = oldScript.textContent;
                                }
                                document.body.appendChild(newScript);
                            });
                        }).catch(error => alert("Failed to load zone: " + error));
                    }
                } else {
                    openZone(zone);
                }
            }
        }
    } catch (error) {
        console.error(error);
        container.innerHTML = `Error loading zones: ${error}`;
    }
}
async function fetchPopularity() {
    try {
        const response = await fetch("https://data.jsdelivr.com/v1/stats/packages/gh/gn-math/html@main/files?period=year");
        const data = await response.json();
        data.forEach(file => {
            const idMatch = file.name.match(/\/(\d+)\.html$/);
            if (idMatch) {
                const id = parseInt(idMatch[1]);
                popularityData[id] = file.hits.total;
            }
        });
    } catch (error) {
        popularityData[0] = 0;
    }
}

function sortZones() {
    const sortBy = sortOptions.value;
    if (sortBy === 'name') {
        zones.sort((a, b) => a.name.localeCompare(b.name));
    } else if (sortBy === 'id') {
        zones.sort((a, b) => a.id - b.id);
    } else if (sortBy === 'popular') {
        zones.sort((a, b) => (popularityData[b.id] || 0) - (popularityData[a.id] || 0));
    }
    zones.sort((a, b) => (a.id === -1 ? -1 : b.id === -1 ? 1 : 0));
    const featured = zones.filter(z => z.featured);
    displayFeaturedZones(featured);
    displayZones(zones);
}

function displayFeaturedZones(featuredZones) {
    featuredContainer.innerHTML = "";
    featuredZones.forEach((file, index) => {
        const zoneItem = document.createElement("div");
        zoneItem.className = "zone-item";
        zoneItem.onclick = () => openZone(file);
        const img = document.createElement("img");
        img.dataset.src = file.cover.replace("{COVER_URL}", coverURL).replace("{HTML_URL}", htmlURL);
        img.alt = file.name;
        img.loading = "lazy";
        img.className = "lazy-zone-img";
        zoneItem.appendChild(img);
        const button = document.createElement("button");
        button.textContent = file.name;
        button.onclick = (event) => {
            event.stopPropagation();
            openZone(file);
        };
        zoneItem.appendChild(button);
        featuredContainer.appendChild(zoneItem);
    });
    if (featuredContainer.innerHTML === "") {
        featuredContainer.innerHTML = "No featured zones found.";
    } else {
        document.getElementById("allZonesSummary").textContent = `Featured Games
        (${featuredZones.length})`;
    }

    const lazyImages = document.querySelectorAll('#featuredZones img.lazy-zone-img');
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.classList.remove("lazy-zone-img");
                observer.unobserve(img);
            }
        });
    }, {
        rootMargin: "100px", 
        threshold: 0.1
    });

    lazyImages.forEach(img => {
        imageObserver.observe(img);
    });
}

function displayZones(zones) {
    container.innerHTML = "";
    zones.forEach((file, index) => {
        const zoneItem = document.createElement("div");
        zoneItem.className = "zone-item";
        zoneItem.onclick = () => openZone(file);
        const img = document.createElement("img");
        img.dataset.src = file.cover.replace("{COVER_URL}", coverURL).replace("{HTML_URL}", htmlURL);
        img.alt = file.name;
        img.loading = "lazy";
        img.className = "lazy-zone-img";
        zoneItem.appendChild(img);
        const button = document.createElement("button");
        button.textContent = file.name;
        button.onclick = (event) => {
            event.stopPropagation();
            openZone(file);
        };
        zoneItem.appendChild(button);
        container.appendChild(zoneItem);
    });
    if (container.innerHTML === "") {
        container.innerHTML = "No zones found.";
    } else {
        document.getElementById("allSummary").textContent = `All Games (${zones.length})`;
    }

    const lazyImages = document.querySelectorAll('img.lazy-zone-img');
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.classList.remove("lazy-zone-img");
                observer.unobserve(img);
            }
        });
    }, {
        rootMargin: "100px", 
        threshold: 0.1
    });

    lazyImages.forEach(img => {
        imageObserver.observe(img);
    });
}

function filterZones() {
    const query = searchBar.value.toLowerCase();
    const filteredZones = zones.filter(zone => zone.name.toLowerCase().includes(query));
    if (query.length !== 0) {
        document.getElementById("featuredZonesWrapper").removeAttribute("open");
    }
    displayZones(filteredZones);
}

function openZone(file) {
    if (file.url.startsWith("http")) {
        window.open(file.url, "_blank");
    } else {
        const url = file.url.replace("{COVER_URL}", coverURL).replace("{HTML_URL}", htmlURL);
        fetch(url+"?t="+Date.now()).then(response => response.text()).then(html => {
            if (zoneFrame.contentDocument === null) {
                zoneFrame = document.createElement("iframe");
                zoneFrame.id = "zoneFrame";
                zoneViewer.appendChild(zoneFrame);
            }
            zoneFrame.contentDocument.open();
            zoneFrame.contentDocument.write(html);
            zoneFrame.contentDocument.close();
            document.getElementById('zoneName').textContent = file.name;
            document.getElementById('zoneId').textContent = file.id;
            document.getElementById('zoneAuthor').textContent = "by " + file.author;
            if (file.authorLink) {
                document.getElementById('zoneAuthor').href = file.authorLink;
            }
            zoneViewer.style.display = "block";
            const url = new URL(window.location);
            url.searchParams.set('id', file.id);
            history.pushState(null, '', url.toString());
        }).catch(error => alert("Failed to load zone: " + error));
    }
}

function aboutBlank() {
    const newWindow = window.open("about:blank", "_blank");
    let zone = zones.find(zone => zone.id + '' === document.getElementById('zoneId').textContent).url.replace("{COVER_URL}", coverURL).replace("{HTML_URL}", htmlURL);
    fetch(zone+"?t="+Date.now()).then(response => response.text()).then(html => {
        if (newWindow) {
            newWindow.document.open();
            newWindow.document.write(html);
            newWindow.document.close();
        }
    })
}

function closeZone() {
    zoneViewer.style.display = "none";
    zoneViewer.removeChild(zoneFrame);
    const url = new URL(window.location);
    url.searchParams.delete('id');
    history.pushState(null, '', url.toString());
}

function downloadZone() {
    let zone = zones.find(zone => zone.id + '' === document.getElementById('zoneId').textContent);
    fetch(zone.url.replace("{HTML_URL}", htmlURL)+"?t="+Date.now()).then(res => res.text()).then(text => {
        const blob = new Blob([text], {
            type: "text/plain;charset=utf-8"
        });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = zone.name + ".html";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });
}

function fullscreenZone() {
    if (zoneFrame.requestFullscreen) {
        zoneFrame.requestFullscreen();
    } else if (zoneFrame.mozRequestFullScreen) {
        zoneFrame.mozRequestFullScreen();
    } else if (zoneFrame.webkitRequestFullscreen) {
        zoneFrame.webkitRequestFullscreen();
    } else if (zoneFrame.msRequestFullscreen) {
        zoneFrame.msRequestFullscreen();
    }
}

function saveData() {
    let data = JSON.stringify(localStorage) + "\n\n|\n\n" + document.cookie;
    const link = document.createElement("a");
    link.href = URL.createObjectURL(new Blob([data], {
        type: "text/plain"
    }));
    link.download = `${Date.now()}.data`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

function loadData(event) {
    const file = event.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function (e) {
        const content = e.target.result;
        const [localStorageData, cookieData] = content.split("\n\n|\n\n");
        try {
            const parsedData = JSON.parse(localStorageData);
            for (let key in parsedData) {
                localStorage.setItem(key, parsedData[key]);
            }
        } catch (error) {
        }
        if (cookieData) {
            const cookies = cookieData.split("; ");
            cookies.forEach(cookie => {
                document.cookie = cookie;
            });
        }
        alert("Data loaded");
    };
    reader.readAsText(file);
}

function darkMode() {
    document.body.classList.toggle("dark-mode");
}

function cloakIcon(url) {
    const link = document.querySelector("link[rel~='icon']");
    link.rel = "icon";
    if ((url+"").trim().length === 0) {
        link.href = "favicon.png";
    } else {
        link.href = url;
    }
    document.head.appendChild(link);
}
function cloakName(string) {
    if ((string+"").trim().length === 0) {
        document.title = "gn-math";
        return;
    }
    document.title = string;
}

function tabCloak() {
    closePopup();
    document.getElementById('popupTitle').textContent = "Tab Cloak";
    const popupBody = document.getElementById('popupBody');
    popupBody.innerHTML = `
        <label for="tab-cloak-textbox" style="font-weight: bold;">Set Tab Title:</label><br>
        <input type="text" id="tab-cloak-textbox" placeholder="Enter new tab name..." oninput="cloakName(this.value)">
        <br><br><br><br>
        <label for="tab-cloak-textbox" style="font-weight: bold;">Set Tab Icon:</label><br>
        <input type="text" id="tab-cloak-textbox" placeholder="Enter new tab icon..." oninput='cloakIcon(this.value)'>
        <br><br><br>
    `;
    popupBody.contentEditable = false;
    document.getElementById('popupOverlay').style.display = "flex";
}

const settings = document.getElementById('settings');
settings.addEventListener('click', () => {
    document.getElementById('popupTitle').textContent = "Settings";
    const popupBody = document.getElementById('popupBody');
    popupBody.innerHTML = `
    <button id="settings-button" onclick="darkMode()">Toggle Dark Mode</button>
    <br><br>
    <button id="settings-button" onclick="tabCloak()">Tab Cloak</button>
    <br>
    `;
    popupBody.contentEditable = false;
    document.getElementById('popupOverlay').style.display = "flex";
});

function showContact() {
    document.getElementById('popupTitle').textContent = "Contact";
    const popupBody = document.getElementById('popupBody');
    popupBody.innerHTML = `
    <p>Discord: https://discord.gg/AS764rYBzh</p>`;
    popupBody.contentEditable = false;
    document.getElementById('popupOverlay').style.display = "flex";
}

function loadPrivacy() {
    document.getElementById('popupTitle').textContent = "Privacy Policy";
    const popupBody = document.getElementById('popupBody');
    popupBody.innerHTML = `
        <div style="max-height: 60vh; overflow-y: auto;">
            <h2> Welcome to R3cked Games!</h2>
            <p> At R3cked Games, we truly belive in a Safe Gaming Enviorment. We will never sell your cookies to anyone. If you have any questions or concerns, please reach out to us in our discord! 
            Discord: https://discord.gg/AS764rYBzh</p>
    `;
    popupBody.contentEditable = false;
    document.getElementById('popupOverlay').style.display = "flex";
}
function loadCredit() {
    document.getElementById('popupTitle').textContent = "Thanks and Credit";
    const popupBody = document.getElementById('popupBody');
    popupBody.innerHTML = `
        <div style="max-height: 60vh; overflow-y: auto;">
            <h2>We would like to give some thanks and Credit to Gn-Math, for the design idea and some of your games such as Hollow Knight, to all our code builders, for the games, to our amazing staff team, for helping us make this a reality!</h2>
            <p>  And most of all, to you guys. You were our insperation and without you guys, this would not have been possible. So I will say this again, Thank you. <br>
      Sincerely,R3ckless and everyone at R3cked Games </p>
    `;
    popupBody.contentEditable = false;
    document.getElementById('popupOverlay').style.display = "flex";
}

function closePopup() {
    document.getElementById('popupOverlay').style.display = "none";
}
listZones();

const schoolList = ["deledao", "goguardian", "lightspeed", "linewize", "securly", ".edu/"];

function isBlockedDomain(url) {
    const domain = new URL(url, location.origin).hostname + "/";
    return schoolList.some(school => domain.includes(school));
}

const originalFetch = window.fetch;
window.fetch = function (url, options) {
    if (isBlockedDomain(url)) {
        console.warn(`lam`);
        return Promise.reject(new Error("lam"));
    }
    return originalFetch.apply(this, arguments);
};

const originalOpen = XMLHttpRequest.prototype.open;
XMLHttpRequest.prototype.open = function (method, url) {
    if (isBlockedDomain(url)) {
        console.warn(`lam`);
        return;
    }
    return originalOpen.apply(this, arguments);
};

HTMLCanvasElement.prototype.toDataURL = function (...args) {
    return "";
};
    </script>
</body>
</html>


























